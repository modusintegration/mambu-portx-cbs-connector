/** DataSonnet
version=2.0
output application/json
input payload application/json
*/
local selector(obj,key,dValue = null) = ds.or(ds.select(obj,key), dValue);
local registrationDate = cml.exchangeProperty("date");

std.prune({
  "taxInformation": {
    "tIN": cml.exchangeProperty("groupCreatedId")
  },
  "registrationDate": ds.datetime.format(registrationDate, "yyyy-MM-dd")
}) + ds.remove(payload, "creationDate")
