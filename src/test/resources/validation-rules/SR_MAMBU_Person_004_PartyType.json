{
  "apiVersion": "0.3.0",
  "ruleVersion": 1,
  "name": "SR_MAMBU_Person_004_PartyType",
  "description": "MAMBU Person Party Types",
  "schemas": [
    {"name": "PersonRequest", "isParentSchema": false, "operationIds": ["createPerson"]}
  ],
  "conditions": {
    "all": [
      {
        "type": "JSON_LOGIC",
        "comment": "The person party types implemented for MAMBU are Person, Organization.",
        "logic": {"all" : [ {"var":"relatedParties"}, {"in" : [ { "var" : "partyType" }, ["Person", "Organization", null] ] } ]}
      }
    ]
  },
  "event": {
    "comment": "Invalid Request Error",
    "type": "error",
    "target": "parties.partyType",
    "code": "InvalidPersonPartyType",
    "message": "Person party type must be one of ['Person', 'Organization'] "
  }
}