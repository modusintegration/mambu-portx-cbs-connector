{
  "apiVersion": "0.3.0",
  "ruleVersion": 1,
  "name": "SR_MAMBU_Account_003_PartyType",
  "description": "MAMBU Account Party Types",
  "schemas": [
    {"name": "AccountParty", "isParentSchema": false, "operationIds": ["updateAccount", "openBankingAccount"]}
  ],
  "conditions": {
    "all": [
      {
        "type": "JSON_LOGIC",
        "comment": "The account party types implemented for MAMBU are ServicerOfficer, Person, Organization.",
        "logic": {"all" : [ {"var":"parties"}, {"in" : [ { "var" : "partyType" }, ["ServicerOfficer", "Person", "Organization", null] ] } ]}
      }
    ]
  },
  "event": {
    "comment": "Invalid Request Error",
    "type": "error",
    "target": "parties.partyType",
    "code": "InvalidAccountPartyType",
    "message": "Account party type must be one of ['ServicerOfficer', 'Person', 'Organization'] "
  }
}